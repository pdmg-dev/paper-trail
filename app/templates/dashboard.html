{% extends 'base.html' %}
{% block content %}
  <div class="container-fluid p-0">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center py-2">
      <h4 class="mb-0 fw-bold py-2">Dashboard</h4>
      <a href="{{ url_for('voucher.new_voucher') }}" class="btn btn-primary">
        <i class="bi bi-plus me-1"></i>New Voucher
      </a>
    </div>

    <!-- Main Content -->
    <div class="row flex-grow-1 g-3 py-2 px-0">
      <!-- Left Section -->
      <div class="col-7 d-flex flex-column flex-grow-1 gap-3">
        <div class="p-0">{% include "tracker/_card.html" %}</div>

        <div class="card d-flex flex-column flex-fill overflow-hidden vh-50">
          <h6 class="card-header text-muted">Recent</h6>
          <div class="card-body p-0 d-flex flex-column flex-grow-1">
            <div class="flex-grow-1 overflow-auto scroll-hidden" style="max-height: 350px;">
              {% include 'voucher/_table.html' %}
            </div>
          </div>
        </div>
      </div>

      <!-- Right Section -->
      <div class="col-5 d-flex flex-column flex-grow-1 gap-3">
        <div class="card flex-fill d-flex flex-column">
          <h6 class="card-header text-muted">Analytics</h6>
          <div class="card-body flex-grow-1 d-flex flex-column justify-content">
            <p>Sample analytics.</p>
          </div>
        </div>

        <div id="particulars" class="card flex-fill d-flex flex-column">
          <h6 class="card-header text-muted">Preview</h6>
          <div class="card-body flex-grow-1 d-flex flex-column justify-content" hx-swap="innerHTML">
            <p>Select a voucher to view particulars.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scroll Styling -->
  <style>
    .scroll-hidden {
      overflow-y: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    .scroll-hidden::-webkit-scrollbar {
      display: none;
    }
  </style>
{% endblock %}
